% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dataset.R
\name{encodeOptionsAndDataset}
\alias{encodeOptionsAndDataset}
\title{Encode Options and Dataset for JASP Analysis}
\usage{
encodeOptionsAndDataset(options, dataset)
}
\arguments{
\item{options}{A named list of analysis options, typically from \code{analysisOptions()}.}

\item{dataset}{A data.frame or the name/path of a dataset to be encoded.}
}
\value{
A list with three components:
\itemize{
\item \code{options}: The encoded options with variable names replaced by "jaspColumnN".
\item \code{dataset}: The encoded dataset containing only the relevant columns,
renamed and formatted according to their types.
\item \code{encodingMap}: A data.frame with columns \code{original}, \code{encoded},
and \code{type} showing the mapping from original variable names to encoded names.
}
}
\description{
This function processes options with \code{.types} properties and creates an
encoded version of both the options and the dataset. Variables are encoded
to generic names like "jaspColumn1", "jaspColumn2", etc., and the dataset
is filtered and formatted according to the specified types.
}
\details{
The function performs the following steps:
\enumerate{
\item Scans all options for those with a parallel \code{.types} entry
(e.g., \code{variables} and \code{variables.types}).
\item Extracts unique variable-type combinations.
\item Creates an encoding map from original names to "jaspColumn1", "jaspColumn2", etc.
\item Replaces all variable references in the options with their encoded names.
\item Subsets and transforms the dataset to contain only the encoded columns,
applying type coercion:
\itemize{
\item \code{"nominal"}: Converted to factor via \code{as.factor()}.
\item \code{"ordinal"}: Converted to ordered factor.
\item \code{"scale"}: Converted to numeric via \code{as.numeric()}.
}
}
}
\examples{
\dontrun{
options <- analysisOptions("BinomialTest")
options$variables <- "contBinom"
options$variables.types <- "nominal"

result <- encodeOptionsAndDataset(options, "debug.csv")
# result$options$variables is now "jaspColumn1"
# result$dataset has column "jaspColumn1" as a factor
# result$encodingMap shows the mapping
}

}
