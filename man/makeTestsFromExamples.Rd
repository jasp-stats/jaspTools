% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/test-generator.R
\name{makeTestsFromExamples}
\alias{makeTestsFromExamples}
\title{Create test files from JASP example files}
\usage{
makeTestsFromExamples(
  path,
  module.dir,
  sanitize = FALSE,
  overwrite = FALSE,
  forceEncode = NULL
)
}
\arguments{
\item{path}{Optional string path to a directory containing JASP example files.
If provided, the JASP files at this path will be copied to the module's
\code{examples/} folder before generating tests. If missing, the function processes
JASP files already present in the module's \code{examples/} folder.}

\item{module.dir}{String path to the module directory. If missing, uses the current
working directory.}

\item{sanitize}{Logical. If TRUE, sanitizes test filenames by replacing non-word characters
with hyphens. If FALSE (default), preserves original spacing and characters in filenames.}

\item{overwrite}{Logical. If TRUE, overwrites existing test files. If FALSE (default),
skips files that already exist.}

\item{forceEncode}{Optional character vector of option names that should be forcibly
encoded using regular expression replacement. This is useful for options like
\code{model} that contain variable names embedded in strings (e.g., formula syntax
"A~B") but do not have a parallel \code{.types} entry. These options will have all
column names replaced with their encoded equivalents using word-boundary-aware regex.}
}
\value{
Invisibly returns a character vector of created/processed test file paths.
}
\description{
\code{makeTestsFromExamples} transforms JASP example files into unit test files.
}
\details{
This function processes JASP example files and generates corresponding test files in
the module's \code{tests/testthat} directory. Each JASP file becomes a single test file
named "test-example-{basename}.R", where {basename} is the original JASP filename without
the .jasp extension.

The JASP example files must be located in the module's \code{examples/} folder for the
generated tests to work at runtime. When \code{path} is provided, files are automatically
copied to the module's \code{examples/} folder.

If a JASP file contains multiple analyses, they are included as separate \code{test_that()}
blocks within the same test file.

\strong{Prerequisites:}
\itemize{
\item \code{setupJaspTools()} must be run before using this function
\item Packages 'DBI' and 'RSQLite' are required for extracting data from JASP files
}
}
\examples{
\dontrun{
# Setup jaspTools first
library(jaspTools)
setupJaspTools()

# Create tests from JASP files already in the module's examples/ folder
# (uses working directory as module)
makeTestsFromExamples()

# Specify the module directory explicitly
makeTestsFromExamples(module.dir = "path/to/your/module")

# Import JASP files from another directory, copy to examples/, and generate tests
makeTestsFromExamples(path = "path/to/jasp/files", module.dir = "path/to/module")

# Overwrite existing test files
makeTestsFromExamples(overwrite = TRUE)

# Force encode 'model' option for analyses with embedded variable names
makeTestsFromExamples(forceEncode = "model")
}

}
